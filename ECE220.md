  # ECE220 NOTES

  ## C language principles
  ### my understanding

pay attention
  ### Example
  ```c
  
  void function(int *value_ptr_a, int *value_ptr_b){
    *value_ptr_a = *value_ptr_b;
  }
  int main(){
    int a;
    int b;
    int *value_a; // int *value_a = &a
    int *value_b;

    value_a = &a;
    value_b = &b;
    function (&a, &b);  // equal to fuction (value_a, value_b);
    
  }
```
 - 注意事项
   - 注意* 和&的运用：`* name` 代表取出储存一个地址的指针，当使用 `* name` 会取出储存地址里的数
   - 我的理解是定义一个变量用的是数值，在main 函数开头定义了a,b,value_a 都是具体数值而非地址（其中`value_a` 是指针，但是`*value_a`是数值）
   - 给指针赋值时需要用到取址符号&
   - 在函数取参时需要用到地址，这是在调用函数时用到&

- 在函数内部结构书写时，直接将`* name `看作是一个变量即可，只需在call 函数时运用所需变量的地址即可。

  ### 出现**ptr 是指向指针的指针
   - 可以理解为ptr里存储一个地址，该地址里面还存了一个地址，这个地址存储一个数值。
 
## 数组（Array)
  - 重难点：malloc (very difficult)
    - malloc 可以实现给数组分配特定空间的功能
    - malloc 函数的定义式子：`void* malloc(size_t size) `,返回指针类型，可以通过`（type *)`进行格式转换，返回首指针。
    ### Example
    ```c

    #include <stdio.h>
    #include <stdlib.h> //malloc函数的头文件

    int main(){
      int array_length; //为了更好理解，我没有将数值初始化。实际上未知参数会导致程序报错
      int* ptr;
      ptr = (int *) malloc( sizeof(int) * array_length ); //调用malloc函数实现内存分配

      for(int i=0, i<array_length, i++){
        ptr[i] = 12 + i; //赋值
      }

      free(ptr); //释放内存
    }
    ```

    ## 二维数组（two-dimension)

     ### **Example**
      ```c

      #include <stdio.h>
      #include <stdlib.h>

      int main(){
        int array_array_length;  //rows
        int array_length;   //cols
        int **pp;
        pp = (int **) malloc ( sizeof(int) * array_array_length );
        for(int i=0, i<array_array_length, i++){
          pp[i] = (int *)malloc( sizeof(int) * array_length);
        }
        for(int i=0, i < array_array_length, i++){
          for(int j=o, j < array_length, j++){
            pp[i][j] = i * array_array_length + j; //赋值
          }
        }
        for(int i=0, i < array_array_length, i++){
          free(pp[i]);
        }
        free(pp);
      }
      ```
- 提醒：
  - `array[ ]`  equals to `*array` (数组本质上就是指针)
  - 以上延伸出 `array[1] = *(array+1)`
  - 在定义函数时，使用array[ ]作为参数，而在call函数时则使用 `&array` or `array`
       
### 字符串数组
  - **注意事项**
    - 作为`char` 字符串，最后必须以`/0`结尾，要预留出该空间。比如buff[300] 可以存储299个字符，但是最后一个字符为`/0`
    - 对于字符串数组初始化赋值
      ```c
      char *buff[100]= "abc"; // buff[0] = a, buff[1] = b, buff[2] = c, buff[3] = /0
      ```
      **Warning**: `buff = "abc"` 将会报错，如果想要未初始化后赋值需要用到`strcpy`函数
      ```c
      strcpy(buff, "abc");
      ```
      
 
